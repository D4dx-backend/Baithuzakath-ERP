<!DOCTYPE html>
<html>
<head>
    <title>Quick Logout & Admin Login Instructions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 { color: #e74c3c; }
        h2 { color: #3498db; margin-top: 30px; }
        .step {
            background: #ecf0f1;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #3498db;
            border-radius: 4px;
        }
        .code {
            background: #2c3e50;
            color: #2ecc71;
            padding: 15px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
        }
        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
        }
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px 5px;
        }
        button:hover {
            background: #2980b9;
        }
        button.danger {
            background: #e74c3c;
        }
        button.danger:hover {
            background: #c0392b;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üö® You're Still Logged In as Beneficiary!</h1>
        
        <div class="warning">
            <strong>Current Issue:</strong> You're logged in as a beneficiary user, but the Beneficiaries page requires admin access.
        </div>

        <h2>Quick Fix - Option 1: Use Browser Console</h2>
        
        <div class="step">
            <strong>Step 1:</strong> Press <kbd>F12</kbd> to open Developer Tools
        </div>

        <div class="step">
            <strong>Step 2:</strong> Go to the <strong>Console</strong> tab
        </div>

        <div class="step">
            <strong>Step 3:</strong> Copy and paste this code, then press Enter:
            <div class="code">
localStorage.clear();
sessionStorage.clear();
console.log('‚úÖ Logged out successfully!');
setTimeout(() => {
    window.location.href = '/login';
}, 1000);
            </div>
        </div>

        <div class="step">
            <strong>Step 4:</strong> On the login page, enter:
            <ul>
                <li><strong>Phone:</strong> 9876543210</li>
                <li><strong>OTP:</strong> 123456</li>
            </ul>
        </div>

        <h2>Quick Fix - Option 2: Click Button Below</h2>
        
        <div class="step">
            <p>If you're viewing this in your browser, click this button:</p>
            <button class="danger" onclick="logoutAndRedirect()">
                üö™ Logout & Go to Login Page
            </button>
        </div>

        <h2>After Logging In as Admin</h2>
        
        <div class="success">
            <strong>‚úÖ You should now have access to:</strong>
            <ul>
                <li>Beneficiaries management page</li>
                <li>All admin features</li>
                <li>No more 403 errors!</li>
            </ul>
        </div>

        <h2>Admin Credentials (for reference)</h2>
        <div class="code">
Phone: 9876543210
Role: state_admin
OTP: 123456 (static OTP enabled)
        </div>

        <h2>Troubleshooting</h2>
        
        <div class="step">
            <strong>If you still get 403 after logging in:</strong>
            <ol>
                <li>Check browser console for the decoded token</li>
                <li>Verify the role is "state_admin"</li>
                <li>Try hard refresh: <kbd>Ctrl+Shift+R</kbd> (Windows) or <kbd>Cmd+Shift+R</kbd> (Mac)</li>
            </ol>
        </div>

        <div class="step">
            <strong>To verify you're logged in as admin:</strong>
            <div class="code">
// Run in browser console
const token = localStorage.getItem('token');
if (token) {
    const payload = JSON.parse(atob(token.split('.')[1]));
    console.log('Current Role:', payload.role);
    console.log('User ID:', payload.userId);
} else {
    console.log('‚ùå No token found - not logged in');
}
            </div>
        </div>
    </div>

    <script>
        function logoutAndRedirect() {
            localStorage.clear();
            sessionStorage.clear();
            alert('‚úÖ Logged out successfully! Redirecting to login page...');
            setTimeout(() => {
                window.location.href = '/login';
            }, 1000);
        }
    </script>
</body>
</html>
